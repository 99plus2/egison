(define $repl
  (lambda []
    (do {[(write-string "input: ")]
         [(flush)]
         [$input (read)]
         [(write input)]
         [(write (take 3 input))]
         [(write-string "\n")]
         [(repl)]
         }
      [])))

(define $main
  (lambda [$argv]
    (do {[(repl)]}
      [])))
