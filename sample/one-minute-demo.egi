(test (match-all {1 2 3 4 5} (list integer)
        [<cons $x $xs> [x xs]]))

(test (match-all {1 2 3 4 5} (multiset integer)
        [<cons $x $xs> [x xs]]))

(test (match-all {1 2 3 4 5} (list integer)
        [<join $xs $ys> [xs ys]]))

(test (match-all {1 2 3 4 5} (multiset integer)
        [<cons $x <cons ,(+ x 2) _>> [x (+ x 2)]]))
